# Clash内嵌代理系统使用指南

## 功能概述

QAToolBox现在集成了完整的Clash内嵌代理系统，让用户可以：

- 🚀 **一键启动Clash代理服务**
- 🔧 **自动安装和配置Clash**
- 🌐 **可视化代理管理界面**
- 📊 **实时监控代理状态**
- 🔄 **动态切换代理节点**
- ⚙️ **在线配置管理**

## 访问方式

### 1. 通过代理仪表板
访问：`https://shenyiqing.xin/tools/proxy-dashboard/`
- 点击"Clash内嵌代理"卡片
- 选择"打开Clash控制台"

### 2. 直接访问Clash控制台
访问：`https://shenyiqing.xin/tools/clash-dashboard/`

## 主要功能

### 🎛️ 服务控制
- **启动服务**：一键启动Clash代理服务
- **停止服务**：安全停止Clash服务
- **重启服务**：重启Clash以应用新配置
- **状态监控**：实时显示服务运行状态

### 🔧 自动安装
- **系统检测**：自动检测操作系统和架构
- **包管理器安装**：优先使用Homebrew、apt、yum等
- **二进制下载**：自动下载适合的Clash二进制文件
- **配置生成**：自动创建默认配置文件

### 🌐 代理管理
- **节点列表**：显示所有可用代理节点
- **节点切换**：一键切换代理节点
- **连接测试**：测试代理连接状态
- **性能监控**：显示节点延迟和状态

### ⚙️ 配置管理
- **配置查看**：在线查看Clash配置文件
- **配置导出**：下载配置文件到本地
- **规则管理**：管理代理规则和策略
- **DNS设置**：配置DNS解析规则

## 使用步骤

### 第一次使用

1. **访问Clash控制台**
   ```
   https://shenyiqing.xin/tools/clash-dashboard/
   ```

2. **自动安装Clash**
   - 点击"自动安装"卡片
   - 点击"安装Clash"按钮
   - 系统会自动检测并安装Clash

3. **启动代理服务**
   - 点击"启动服务"按钮
   - 等待服务启动完成
   - 查看状态指示器变为绿色

4. **测试连接**
   - 点击"测试连接"按钮
   - 确认代理工作正常

### 日常使用

1. **启动服务**：点击"启动服务"按钮
2. **选择节点**：在代理列表中选择合适的节点
3. **开始浏览**：现在可以正常访问外网了

## 技术特性

### 🔒 安全性
- 本地运行，数据不经过第三方服务器
- 支持多种加密协议（Trojan、V2Ray、Shadowsocks等）
- 自动证书验证和跳过选项

### 🚀 性能优化
- 智能节点选择（延迟测试）
- 自动故障转移
- 连接池管理
- 流量统计

### 🎯 易用性
- 图形化界面操作
- 一键安装和配置
- 实时状态监控
- 详细的操作日志

## 支持的平台

- ✅ **macOS** (Intel/Apple Silicon)
- ✅ **Linux** (Ubuntu/Debian/CentOS)
- ✅ **Windows** (x64)

## 代理协议支持

- **Trojan**：高性能加密协议
- **V2Ray**：多功能代理协议
- **Shadowsocks**：轻量级代理协议
- **HTTP/HTTPS**：标准HTTP代理
- **SOCKS5**：通用SOCKS代理

## 故障排除

### 常见问题

1. **Clash启动失败**
   - 检查端口是否被占用
   - 确认配置文件格式正确
   - 查看错误日志

2. **代理连接失败**
   - 检查网络连接
   - 验证代理节点配置
   - 尝试切换其他节点

3. **安装失败**
   - 检查网络连接
   - 确认系统权限
   - 尝试手动下载二进制文件

### 日志查看
- 在Clash控制台底部查看实时日志
- 日志包含详细的错误信息和状态更新

## 高级配置

### 自定义配置
1. 点击"配置管理" → "查看配置"
2. 复制配置内容
3. 修改后通过"更新配置"上传

### 添加代理节点
1. 准备代理节点配置
2. 通过API或配置文件添加
3. 重启服务应用配置

## 注意事项

⚠️ **重要提醒**：
- 请遵守当地法律法规
- 仅用于合法的网络访问需求
- 不要用于违法活动
- 定期更新代理节点配置

## 技术支持

如果遇到问题，可以：
1. 查看控制台日志信息
2. 检查系统状态和错误提示
3. 尝试重启服务或重新安装
4. 联系技术支持获取帮助

---

**享受安全、快速的外网访问体验！** 🌐✨
