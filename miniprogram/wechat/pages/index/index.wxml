<!--pages/index/index.wxml-->
<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <view class="page-title">QAToolBox</view>
    <view class="page-subtitle">è®©ç”Ÿæ´»æ›´ç®€å•ï¼Œè®©æ¯ä¸€å¤©éƒ½å……æ»¡æ„ä¹‰</view>
  </view>

  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="card" wx:if="{{userInfo}}">
    <view class="user-info">
      <view class="user-avatar">
        <image src="{{userInfo.avatar || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      </view>
      <view class="user-details">
        <view class="user-name">{{userInfo.username}}</view>
        <view class="user-email">{{userInfo.email}}</view>
      </view>
    </view>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="stats-card">
    <view class="stats-header">
      <view class="stats-title">æ•°æ®ç»Ÿè®¡</view>
      <view class="stats-refresh" bindtap="onRefresh">
        <text class="refresh-icon">ğŸ”„</text>
      </view>
    </view>
    <view class="stats-content">
      <view class="stat-item">
        <view class="stat-number">{{stats.totalWorkouts}}</view>
        <view class="stat-label">è®­ç»ƒæ¬¡æ•°</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{stats.totalTools}}</view>
        <view class="stat-label">å·¥å…·ä½¿ç”¨</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{stats.totalSocial}}</view>
        <view class="stat-label">ç¤¾äº¤æ´»åŠ¨</view>
      </view>
      <view class="stat-item">
        <view class="stat-number">{{stats.totalDays}}</view>
        <view class="stat-label">ä½¿ç”¨å¤©æ•°</view>
      </view>
    </view>
  </view>

  <!-- å¿«é€Ÿæ“ä½œ -->
  <view class="card">
    <view class="card-header">
      <view class="card-title">å¿«é€Ÿæ“ä½œ</view>
    </view>
    <view class="grid">
      <view 
        class="grid-item" 
        wx:for="{{quickActions}}" 
        wx:key="id"
        data-path="{{item.path}}"
        bindtap="onQuickAction"
      >
        <view class="grid-icon" style="background: {{item.color}}">
          <text>{{item.icon}}</text>
        </view>
        <view class="grid-title">{{item.name}}</view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æ´»åŠ¨ -->
  <view class="card" wx:if="{{recentActivities.length > 0}}">
    <view class="card-header">
      <view class="card-title">æœ€è¿‘æ´»åŠ¨</view>
      <view class="card-more" bindtap="onViewDetail" data-type="activities">
        <text>æ›´å¤š</text>
        <text class="list-item-arrow">></text>
      </view>
    </view>
    <view class="list">
      <view 
        class="list-item" 
        wx:for="{{recentActivities}}" 
        wx:key="id"
      >
        <view class="list-item-content">
          <view class="list-item-title">{{item.title}}</view>
          <view class="list-item-desc">{{item.description}}</view>
          <view class="list-item-time">{{item.time}}</view>
        </view>
        <text class="list-item-arrow">></text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{recentActivities.length === 0}}">
    <view class="empty-icon">ğŸ“</view>
    <view class="empty-text">æš‚æ— æœ€è¿‘æ´»åŠ¨</view>
    <view class="empty-desc">å¼€å§‹ä½¿ç”¨QAToolBoxï¼Œè®°å½•ä½ çš„ç”Ÿæ´»</view>
  </view>
</view>
