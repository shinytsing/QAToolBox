# 代理系统使用说明

## 功能概述

本代理系统提供了以下功能：
- 🔗 **代理连接测试** - 测试代理服务器的TCP连接状态
- 🌐 **IP对比功能** - 对比直连和代理的IP地址
- 🚀 **真实代理测试** - 测试代理是否能真实访问目标网站
- 📋 **代理服务器管理** - 查看和管理代理服务器列表

## 快速开始

### 1. 访问代理系统
打开浏览器访问：`http://localhost:8000/tools/proxy-dashboard/`

### 2. 测试代理连接
点击"测试所有代理"按钮，系统会自动测试所有代理服务器的连接状态。

### 3. 查看IP对比
点击"获取IP对比"按钮，可以查看直连和代理的IP地址差异。

### 4. 真实代理测试
选择代理服务器和目标网站，点击"测试真实代理"进行测试。

## 代理服务器配置

### 当前可用的代理服务器

| 名称 | 类型 | 服务器 | 端口 | 国家 | 类别 |
|------|------|--------|------|------|------|
| HongKong-IPLC-HK-1 | Trojan | iplc-hk-1.trojanwheel.com | 465 | 香港 | IPLC |
| HongKong-IPLC-HK-2 | Trojan | iplc-hk-2.trojanwheel.com | 465 | 香港 | IPLC |
| Japan-TY-1 | Trojan | ty-1.rise-fuji.com | 443 | 日本 | Premium |
| UnitedStates-US-1 | Trojan | us-1.regentgrandvalley.com | 443 | 美国 | Premium |
| Singapore-SG-1 | Trojan | sg-1.victoriamitrepeak.com | 443 | 新加坡 | Premium |
| Australia-AU-1 | Trojan | au-1.australiastudio.com | 443 | 澳大利亚 | Premium |

## 使用Clash客户端

### 1. 下载Clash客户端
- **Windows**: Clash for Windows
- **macOS**: ClashX
- **Linux**: Clash for Linux
- **Android**: Clash for Android
- **iOS**: Shadowrocket

### 2. 配置Clash
1. 将 `clash_config_example.yaml` 文件复制到Clash配置目录
2. 在Clash中导入配置文件
3. 启动Clash服务

### 3. 验证配置
- 打开Clash控制面板
- 检查代理服务器连接状态
- 测试访问Google等网站

## 常见问题

### Q: 为什么代理测试显示"Trojan协议需要通过专用客户端使用"？
A: Trojan协议需要专门的客户端（如Clash、V2Ray）才能使用，不能直接通过HTTP代理方式连接。

### Q: 如何获取真实的代理IP？
A: 需要先配置Clash等客户端，然后通过代理访问IP查询网站。

### Q: 代理连接失败怎么办？
A: 
1. 检查网络连接
2. 确认代理服务器是否可用
3. 尝试使用不同的代理服务器
4. 检查防火墙设置

### Q: 如何添加新的代理服务器？
A: 在 `apps/tools/proxy_view.py` 文件中的 `PROXY_SERVERS` 列表中添加新的代理配置。

## API接口

### 获取IP对比
```
GET /tools/api/proxy/ip-comparison/
```

### 测试代理连接
```
GET /tools/api/proxy/connection-test/
```

### 测试真实代理
```
POST /tools/api/proxy/test-real/
Content-Type: application/json

{
    "proxy": "HongKong-IPLC-HK-1",
    "url": "https://www.google.com"
}
```

### 获取代理列表
```
GET /tools/api/proxy/list/
```

## 技术说明

- **Trojan协议**: 基于TLS的代理协议，具有较好的隐蔽性
- **IPLC线路**: 国际专线，延迟低，稳定性好
- **Premium线路**: 优质线路，适合日常使用

## 安全提醒

1. 请勿在公共网络环境下使用代理
2. 定期更换代理密码
3. 注意保护个人隐私
4. 遵守当地法律法规

## 联系支持

如有问题，请联系系统管理员或查看日志文件。
