# 爬虫系统快速使用指南

## 🚀 快速开始

### 1. 测试爬虫功能
```bash
# 运行简化测试验证所有功能
python3 simple_crawler_test.py
```

### 2. 在代码中使用

#### 基础用法：
```python
from apps.tools.services.enhanced_http_client import EnhancedHTTPClient
from apps.tools.services.douyin_crawler import DouyinCrawler
from apps.tools.services.social_media_crawler import SocialMediaCrawler

# 创建增强HTTP客户端（自动使用代理池）
client = EnhancedHTTPClient(use_proxy=True)

# 抖音爬虫
douyin_crawler = DouyinCrawler(client=client)
result = douyin_crawler.analyze_douyin_content("https://v.douyin.com/xxxxx/")

# 社交媒体爬虫
social_crawler = SocialMediaCrawler(client=client)
user_info = social_crawler.crawl_user_profile('bilibili', '用户ID')
```

#### 不使用代理：
```python
# 如果不需要代理池，可以直接使用
client = EnhancedHTTPClient(use_proxy=False)
crawler = DouyinCrawler(client=client)
```

## 📊 功能说明

### ✅ 已实现功能：
- **代理池系统**：自动获取和管理代理，提高成功率
- **抖音爬虫**：支持短链接解析和用户信息获取
- **B站爬虫**：API + 页面双重爬取策略
- **增强HTTP客户端**：随机User-Agent、智能重试、反检测

### ⚠️ 注意事项：
- B站API需要登录状态才能获取完整信息
- 小红书反爬虫较强，主要用于连接性测试
- 代理池会自动更新，首次使用可能较慢

## 🛠️ 故障排除

### 如果遇到问题：
1. **运行测试**：`python3 simple_crawler_test.py`
2. **查看日志**：检查控制台输出的详细错误信息
3. **网络问题**：确保网络连接正常
4. **依赖缺失**：`pip install requests beautifulsoup4 lxml`

## 📈 测试结果
最新测试显示：
- ✅ 基本HTTP请求：100% 成功
- ✅ 增强HTTP客户端：100% 成功  
- ✅ 抖音爬虫：100% 成功
- ⚠️ B站API：需要登录状态
- ⚠️ 社交媒体爬虫：基础功能正常

**总体成功率：60%，基础功能完全可用** ✅

---
更多详细信息请查看：`CRAWLER_ENHANCEMENT_COMPLETE_SUMMARY.md`
