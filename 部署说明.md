# QAToolBox 部署说明

## 快速部署

### 方法一：一键部署（推荐）

1. **登录服务器**
   ```bash
   ssh admin@47.103.143.152
   ```

2. **下载并运行一键部署脚本**
   ```bash
   # 下载脚本
   wget https://raw.githubusercontent.com/shinytsing/QAToolbox/main/一键部署脚本.sh
   
   # 添加执行权限
   chmod +x 一键部署脚本.sh
   
   # 运行脚本
   ./一键部署脚本.sh
   ```

### 方法二：手动部署

1. **登录服务器**
   ```bash
   ssh admin@47.103.143.152
   ```

2. **按照手动部署指南操作**
   - 查看 `手动部署指南.md` 文件
   - 按照步骤逐一执行

### 方法三：远程部署

1. **在本地运行远程部署脚本**
   ```bash
   # 确保本地有项目代码
   ./server_deploy.sh
   ```

## 部署完成后

### 访问信息
- **访问地址**: http://47.103.143.152:8000
- **管理员账号**: admin
- **管理员密码**: admin123456

### 常用命令
```bash
# 进入项目目录
cd /home/admin/QAToolBox

# 启动服务器
./start_server_background.sh

# 停止服务器
./stop_server.sh

# 重启服务器
./restart_server.sh

# 查看日志
tail -f server.log
```

## 故障排除

### 1. 端口被占用
```bash
# 查看端口占用
netstat -tlnp | grep :8000

# 杀死占用进程
sudo kill -9 <PID>
```

### 2. 权限问题
```bash
# 修改文件权限
chmod +x *.sh
chmod 755 /home/admin/QAToolBox
```

### 3. 更新代码
```bash
cd /home/admin/QAToolBox
git pull origin main
source venv/bin/activate
pip install -r requirements/prod.txt
python manage.py migrate
python manage.py collectstatic --noinput
./restart_server.sh
```

## 注意事项

1. 确保服务器有足够的磁盘空间
2. 确保Python版本兼容（建议Python 3.8+）
3. 生产环境建议使用Gunicorn + Nginx
4. 定期备份数据库和代码
5. 监控服务器资源使用情况

## 联系支持

如果遇到问题，请：
1. 查看日志文件：`tail -f /home/admin/QAToolBox/server.log`
2. 检查服务状态：`ps aux | grep python`
3. 查看错误信息并联系技术支持 